"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[109],{82463:function(e,a,l){l(72791);a.Z=l.p+"static/media/close-icon.ef9648a920682e5d9d0fa22a43f9b578.svg"},11654:function(e,a,l){var s=l(72791),n=l(78983),t=l(80184);a.Z=function(e){var a=e.message,l=e.type;return(0,s.useEffect)((function(){window.scrollTo({top:0,behavior:"smooth"})}),[]),(0,t.jsxs)(n.Gc,{color:l,style:{textAlign:"center",height:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:[a," "]})}},14176:function(e,a,l){var s=l(1413),n=l(78983),t=l(80184);a.Z=function(e){return(0,t.jsx)(n.YR,{className:"mb-4 ".concat(e.className),style:(0,s.Z)({display:"flex",flexDirection:"column",width:"100%"},e.style),children:(0,t.jsx)(n.LX,{"aria-label":"Default select example",options:e.options,style:{width:"100%",borderRadius:"8px",color:"#838AA2",fontSize:"16px"},size:"lg",label:e.label,disabled:e.disabled,value:e.value,onChange:e.onChange})})}},2063:function(e,a,l){var s=l(78983),n=l(80184);a.Z=function(e){return(0,n.jsxs)(s.YR,{className:"mb-4 ".concat(e.className),children:[(0,n.jsx)(s.PB,{id:"exampleFormControlTextarea1",rows:"3",size:"lg",style:{width:"100%",borderRadius:"8px",color:"#838AA2",fontSize:"16px"},label:e.label,onChange:e.onChange,value:e.value,className:"".concat(e.error?"is-invalid":"")}),e.error&&(0,n.jsx)("div",{className:"invalid-feedback",children:e.errorText})]})}},94815:function(e,a,l){var s=l(1413),n=l(78983),t=l(80184);a.Z=function(e){return(0,t.jsxs)(n.YR,{className:"mb-4 ".concat(e.className),style:(0,s.Z)({display:"flex",flexDirection:"column"},e.style),children:[(0,t.jsx)(n.jO,{"aria-label":"Username",style:{width:"100%",borderRadius:"8px",color:"#838AA2",fontSize:"16px"},size:"lg",label:e.label,type:e.type,disabled:e.disabled,value:e.value,onChange:e.onChange,className:"form-input-textfield ".concat(e.error?"is-invalid":""),placeholder:e.placeholder}),e.error&&(0,t.jsx)("div",{className:"invalid-feedback",children:e.errorText})]})}},40109:function(e,a,l){l.r(a),l.d(a,{default:function(){return w}});var s=l(1413),n=l(29439),t=l(78983),i=l(89743),r=l(2677),c=l(94815),o=l(2063),d=l(57689),u=l(72791),h=l(93433),m=l(82463),v=l(29653),x=l(14176),p=l(41703),g=l(11654),f=l(80184),j=function(e){var a,l=e.close,i=e.visible,r=e.regulation_id,o=(0,u.useState)({article_no:"",action_required:"",assessment_frequency:"",action_frequency:"",impact:"",regulation_id:r,article_description:""}),d=(0,n.Z)(o,2),j=d[0],y=d[1],Z=(0,u.useState)(""),N=(0,n.Z)(Z,2),_=N[0],C=N[1],w=(0,u.useState)([]),k=(0,n.Z)(w,2),A=k[0],S=k[1],R=(0,u.useState)({type:"",message:"",show:!1}),E=(0,n.Z)(R,2),I=E[0],L=E[1],D=(0,p.dH)(),q=(0,n.Z)(D,2),F=q[0],z=q[1],T=z.data,M=z.isLoading,B=z.isSuccess,O=z.isError,G=z.error,H=(0,p.O5)(),W=(0,n.Z)(H,2),Y=W[0],P=W[1].data;(0,u.useEffect)((function(){i&&(L(""),y(""))}),[i]),(0,u.useEffect)((function(){var e,a,l;B&&L({type:"ssuccess",message:null===T||void 0===T||null===(e=T.data[0])||void 0===e?void 0:e.uiMessage,show:!0});O&&L({type:"danger",message:null===G||void 0===G||null===(a=G.data)||void 0===a||null===(l=a.data[0])||void 0===l?void 0:l.uiMessage,show:!0})}),[B,O]);return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(t.Tk,{backdrop:!0,visible:i,size:"lg",onClose:function(){return l()},children:[(0,f.jsxs)("div",{className:"modal-header-container",children:[(0,f.jsx)(t.fl,{style:{color:"white"},children:"Add an article"}),(0,f.jsx)("img",{src:m.Z,onClick:l,style:{cursor:"pointer"}})]}),(0,f.jsxs)(t.sD,{children:[I.show&&(0,f.jsx)(g.Z,{type:I.type,message:I.message}),(0,f.jsx)(c.Z,{label:"Article Number",value:j.article_no,onChange:function(e){y((0,s.Z)((0,s.Z)({},j),{},{article_no:e.target.value}))}}),(0,f.jsx)(c.Z,{label:"Article descrption",value:j.article_description,onChange:function(e){y((0,s.Z)((0,s.Z)({},j),{},{article_description:e.target.value}))}}),(0,f.jsx)(c.Z,{label:"Action Required",value:j.action_required,onChange:function(e){y((0,s.Z)((0,s.Z)({},j),{},{action_required:e.target.value}))}}),(0,f.jsx)(x.Z,{label:"Self assessment frequency",options:b,onChange:function(e){y((0,s.Z)((0,s.Z)({},j),{},{assessment_frequency:e.target.value}))}}),(0,f.jsx)(x.Z,{label:"Action frequency",options:b,onChange:function(e){y((0,s.Z)((0,s.Z)({},j),{},{action_frequency:e.target.value}))}}),(0,f.jsx)(c.Z,{label:"Impact",value:j.impact,onChange:function(e){y((0,s.Z)((0,s.Z)({},j),{},{impact:e.target.value}))}}),(0,f.jsxs)("div",{className:"add-article-asign-user-container",children:[(0,f.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,f.jsx)("div",{style:{width:"100%"},children:(0,f.jsx)(c.Z,{label:"Assign People",placeholder:"Search by username, firstname, lastname, email, or phonenumber",value:_,onChange:function(e){Y(e.target.value),C(e.target.value)},isSearch:!0})})}),""!==_&&(0,f.jsx)("div",{className:"search-container",children:P&&P.data[0]&&(null===(a=P.data[0].users)||void 0===a?void 0:a.map((function(e,a){return(0,f.jsx)("div",{className:"item",children:(0,f.jsx)("span",{onClick:function(){return a=e,S([].concat((0,h.Z)(A),[a])),void C("");var a},children:e.username})},e.id)})))}),A.length>0&&(0,f.jsx)("div",{className:"searched-users-container",children:A.map((function(e){return(0,f.jsxs)("div",{className:"user-ctn",children:[(0,f.jsx)("span",{children:"".concat(e.first_name," ").concat(e.last_name)}),(0,f.jsx)("img",{src:v,onClick:function(){return function(e){var a=A.filter((function(a){return a.id!==e.id}));S(a)}(e)}})]},e.id)}))})]})]}),(0,f.jsxs)(t.Ym,{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,f.jsx)(t.u5,{className:"close-model-btn",style:{boder:"1px solid #9C9C9C",backgroundColor:"white",color:"black",padding:"10px 40px"},onClick:function(){return l()},children:"Close"}),(0,f.jsx)(t.u5,{style:{backgroundColor:"#ECAA00",outline:"none",border:"none",color:"black",fontWeight:"bold",padding:"10px 40px"},onClick:function(){var e=A.map((function(e){return{user_id:e.id}})),a=(0,s.Z)((0,s.Z)({},j),{},{assigned_to:e}),l=[];l.push(a),F({articles:l})},disabled:M,children:"Submit"})]})]})})},b=["",{label:"Daily",value:1},{label:"Weekly",value:1},{label:"Monthly",value:1},{label:"Quartely",value:1},{label:"Anual",value:1}],y=l(11087),Z=function(e){var a=e.article,l=e.details;return(0,f.jsx)(t.uz,{children:(0,f.jsxs)(t.Ob,{itemKey:3,children:[(0,f.jsx)(t.Lv,{children:a.description||"Description not available"}),(0,f.jsxs)(t.qI,{children:[a.action_required,(0,f.jsx)("div",{className:"accordion-more-link",children:(0,f.jsx)(y.rU,{to:"/regulations/view-regulation/article",state:{article:a,details:l},children:"More"})})]})]})})},N=l(78613),_=function(e){var a=e.onChange,l=e.value,s=e.label,n=e.placeholder,t=e.options;return(0,f.jsxs)("div",{style:{marginLeft:6},children:[(0,f.jsx)("span",{style:{marginBottom:15,paddingBottom:20},children:s}),(0,f.jsx)(N.ZP,{options:t,onChange:a,value:l,placeholder:n,styles:C,components:{IndicatorSeparator:function(){return null}}})]})},C={control:function(e,a){return(0,s.Z)((0,s.Z)({},e),{},{height:42,border:a.isFocused?"":"1px solid #E6E8EF",borderRadius:"8px",margin:"0px 0px 20px 0px",padding:"0px 8px",color:"red !important"})}},w=function(){var e,a=(0,d.TH)().state.details,l=(0,u.useState)(!1),h=(0,n.Z)(l,2),m=h[0],v=h[1],x=(0,u.useState)(!1),b=(0,n.Z)(x,2),y=b[0],N=b[1],C=(0,u.useState)(""),w=(0,n.Z)(C,2),R=w[0],E=w[1],I=(0,u.useState)(""),L=(0,n.Z)(I,2),D=L[0],q=L[1],F=(0,p.H_)(),z=(0,n.Z)(F,2),T=z[0],M=z[1],B=M.data,O=M.isloading,G=M.isSuccess,H=M.isError,W=(0,p.fE)(a.id),Y=W.data,P=(W.isLoading,(0,u.useState)({type:"",message:""})),U=(0,n.Z)(P,2),K=U[0],Q=U[1],V=(0,u.useState)({regulation_ref:"",effective_date:"",issuing_authority:"",issuing_date:"",repeal_date:"",general_impact:"",regulatory_digest:"",status:""}),X=(0,n.Z)(V,2),J=X[0],$=X[1];(0,u.useEffect)((function(){$(a)}),[a]),(0,u.useEffect)((function(){var e;G&&Q({type:"success",message:null===B||void 0===B||null===(e=B.data[0])||void 0===e?void 0:e.uiMessage});if(H&&Q({type:"danger",message:""}),G|H){var a=setInterval((function(){Q({type:"",message:""})}),1e4);return function(){return clearInterval(a)}}}),[G,H]);var ee,ae=[];null!==Y&&void 0!==Y&&null!==(e=Y.data[0])&&void 0!==e&&e.articles&&(ae=null===Y||void 0===Y||null===(ee=Y.data[0])||void 0===ee?void 0:ee.articles.map((function(e){return(0,f.jsx)(Z,{article:e,details:a})})));return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(t.rc,{}),(0,f.jsxs)(t.b7,{xs:12,children:[(0,f.jsx)("div",{className:"edit-link-container",children:(0,f.jsx)("span",{onClick:function(){N(!y)},children:y?"View Mode":"Edit"})}),""!==K.type&&(0,f.jsx)(g.Z,{message:K.message,type:K.type}),(0,f.jsx)(t.xH,{className:"mb-4",children:(0,f.jsxs)(t.sl,{style:{padding:"0px 30px"},children:[y?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center"},children:[(0,f.jsx)("div",{style:{width:"50%"},children:(0,f.jsx)(c.Z,{label:"Regulation Title",value:J.regulation_ref,onChange:function(e){$((0,s.Z)((0,s.Z)({},J),{},{regulation_ref:e.target.value}))}})}),(0,f.jsx)("div",{style:{width:"50%"},children:(0,f.jsx)(_,{label:"Status",placeholder:"Select Status",value:{label:J.status,value:"1234"},options:S,onChange:function(e){$((0,s.Z)((0,s.Z)({},J),{},{status:e.value}))}})})]}),(0,f.jsxs)("div",{className:"add-form-row",children:[(0,f.jsx)("div",{style:{width:"50%"},children:(0,f.jsx)(_,{label:"Select Type",options:k,onChange:function(e){E(e.label),$((0,s.Z)((0,s.Z)({},J),{},{type:e.label}))},value:{label:J.type,value:"123"}})}),(0,f.jsx)("div",{style:{width:"50%"},children:(0,f.jsx)(_,{label:"Issuing Authority",style:{marginLeft:10},options:A,onChange:function(e){q(e.label),$((0,s.Z)((0,s.Z)({},J),{},{issuing_authority:e.label}))},value:{label:J.issuing_authority,value:"123"}})})]}),"other"===(null===R||void 0===R?void 0:R.toLocaleLowerCase())||"other"===(null===D||void 0===D?void 0:D.toLocaleLowerCase())?(0,f.jsxs)("div",{className:"add-form-row",style:{backgroundColor:"#F5F8FB",padding:20},children:["other"===(null===R||void 0===R?void 0:R.toLocaleLowerCase())&&(0,f.jsx)(c.Z,{label:"Enter other type",style:{width:"50%"},onChange:function(e){$((0,s.Z)((0,s.Z)({},J),{},{type:e.target.value}))}}),"other"===(null===D||void 0===D?void 0:D.toLocaleLowerCase())&&(0,f.jsx)(c.Z,{className:"ml-2 form-field",label:"Enter Issuing authority",style:{width:"49.2%",display:"flex",marginLeft:"auto"},onChange:function(e){$((0,s.Z)((0,s.Z)({},J),{},{issuing_authority:e.target.value}))}})]}):null,(0,f.jsxs)("div",{className:"add-form-row",children:[(0,f.jsx)(c.Z,{label:"Issuing Date",type:"date",value:J.issuing_date,onChange:function(e){$((0,s.Z)((0,s.Z)({},J),{},{issuing_date:e.target.value}))}}),(0,f.jsx)(c.Z,{className:"ml-2 form-field",label:"Effective Date",type:"date",value:J.effective_date,onChange:function(e){$((0,s.Z)((0,s.Z)({},J),{},{effective_date:e.target.value}))}})]}),(0,f.jsxs)("div",{className:"add-form-row",children:[(0,f.jsx)(c.Z,{className:"form-field",label:"Repeal Date",type:"date",value:J.repeal_date,onChange:function(e){$((0,s.Z)((0,s.Z)({},J),{},{repeal_date:e.target.value}))}}),(0,f.jsx)(c.Z,{className:"form-field",label:"Repeal Date",type:"date",style:{visibility:"hidden"}})]}),(0,f.jsxs)("div",{className:"add-form-row",children:[(0,f.jsx)(o.Z,{label:"General Impact",value:J.general_impact,onChange:function(e){$({general_impact:e.target.value})}}),(0,f.jsx)(o.Z,{className:"ml-2",label:"Regulatory Digest",value:J.regulatory_digest,onChange:function(e){$({regulatory_digest:e.target.value})}})]}),(0,f.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",width:"100%",paddingBottom:50},children:(0,f.jsx)(t.u5,{style:{backgroundColor:"#ECAA00",outline:"none",border:"none",color:"black",fontWeight:"bold",padding:"10px 40px"},onClick:function(){var e=[];e.push(J),T({regulations:e})},disabled:O,children:"Update"})})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"module-title-container",children:(0,f.jsxs)("span",{children:[a.title," "]})}),(0,f.jsxs)(i.Z,{className:"view-item-row",children:[(0,f.jsxs)(r.Z,{className:"item-column",children:[(0,f.jsx)("span",{className:"title",children:"Regulation Reference"}),(0,f.jsx)("span",{className:"value",children:a.regulation_ref})]}),(0,f.jsxs)(r.Z,{className:"item-column",children:[(0,f.jsx)("span",{className:"title",children:"Issuing authority"}),(0,f.jsx)("span",{className:"value",children:a.issuing_authority})]})]}),(0,f.jsxs)(i.Z,{className:"view-item-row",children:[(0,f.jsxs)(r.Z,{className:"item-column",children:[(0,f.jsx)("span",{className:"title",children:"Issued date"}),(0,f.jsx)("span",{className:"value",children:a.issuing_date||"-"})]}),(0,f.jsxs)(r.Z,{className:"item-column",children:[(0,f.jsx)("span",{className:"title",children:"Effective date"}),(0,f.jsx)("span",{className:"value",children:a.effective_date||"-"})]})]}),(0,f.jsxs)(i.Z,{className:"view-item-row",children:[(0,f.jsxs)(r.Z,{className:"item-column",children:[(0,f.jsx)("span",{className:"title",children:"Repealed date"}),(0,f.jsx)("span",{className:"value",children:a.repeal_date})]}),(0,f.jsxs)(r.Z,{className:"item-column",children:[(0,f.jsx)("span",{className:"title",children:"General Impact"}),(0,f.jsx)("span",{className:"value",children:a.general_impact})]})]}),(0,f.jsxs)(i.Z,{className:"view-item-row",children:[(0,f.jsxs)(r.Z,{className:"item-column",children:[(0,f.jsx)("span",{className:"title",children:"Regulatory Digest"}),(0,f.jsx)("span",{className:"value",children:a.regulatory_digest})]}),(0,f.jsxs)(r.Z,{className:"item-column",children:[(0,f.jsx)("span",{className:"title",children:"Status"}),(0,f.jsx)("span",{className:"value",children:a.status})]})]})]}),(0,f.jsxs)("div",{className:"add-articles-container",children:[(0,f.jsx)("div",{className:"articles-container",children:(0,f.jsx)("span",{children:" Articles "})}),(0,f.jsx)(t.u5,{style:{backgroundColor:"#ECAA00",outline:"none",border:"none",color:"black",fontWeight:"bold",padding:"10px 40px"},onClick:function(){v(!m)},children:"Add Article"})]}),(0,f.jsx)("div",{children:ae})]})}),(0,f.jsx)(j,{visible:m,close:function(){return v(!1)},regulation_id:a.id})]})]})},k=[{label:"Directive",value:"some"},{label:"Regulation",value:"2"},{label:"Law",value:"3"},{label:"Guidline",value:"3"},{label:"Other",value:"other"}],A=[{label:"BNR",value:"bnr"},{label:"Ministerial Order",value:"minesterial order"},{label:"Rwanda Revenue Authority",value:"rra"},{label:"Other",value:"other"}],S=[{label:"Active",value:"Active"},{label:"Repealed",value:"Repealed"}]},29653:function(e,a,l){e.exports=l.p+"static/media/close-icon-black.ad1c211225dc27d3345c.jpeg"}}]);
//# sourceMappingURL=109.f3a032bd.chunk.js.map